/**
 * Funfun
 *
 * The MIT License (MIT)
 *
 * Copyright 2015 Ray Wallace III
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(eval){function withParameters(e,t){var n=[];var r="(function (";for(var i=0;i<e;i+=1)n.push("param"+i);r+=n.join(", ")+"){\n"+t+"\n})";return r}function getMemo(e,t){if(!e._fn_memo)Object.defineProperty(e,"_fn_memo",{value:{}});return e._fn_memo[t]}function setMemo(e,t,n){if(!e._fn_memo)Object.defineProperty(e,"_fn_memo",{value:{}});return e._fn_memo[t]=n}function curry(func,useThis){function curried(args){with({func:func,useThis:useThis,args:args}){var result=eval(withParameters(func.length-args.length,"var newArgs = args.concat(toArray(arguments))\n"+"if(newArgs.length >= func.length)\n"+"return func.apply(useThis, newArgs)\n"+"else\n"+"return curried(newArgs)"));return setMemo(result,"curry",result)}}if(arguments.length<2)useThis=this;return curried([])}function compose(){var functions=toArray(arguments);var top=functions.pop();with({functions:functions,top:top}){var composed=eval(withParameters(top.length,"var result = top.apply(this, arguments)\n"+"return functions.reduceRight("+"function(result, func){"+"return func(result)"+"},"+"result)"));return composed.curry}}function transform(e){var t=toArray(arguments).tail();return function(){var n=[];for(var r=0;r<arguments.length;r+=1)n[r]=t[r]!==undefined?t[r](arguments[r]):arguments[r];return e.apply(this,n)}}function flip(func,useThis){if(arguments.length<2)useThis=this;with({func:func,useThis:useThis}){var result=curry(eval(withParameters(func.length,"return func.apply(useThis, reverse(take("+func.length+", toArray(arguments))))")));setMemo(func,"flip",result);setMemo(func,"curry",result);return result}}function asNew(func){with({func:func}){var constructor=eval(withParameters(func.length,"var object = Object.create(func.prototype)\n"+"func.apply(object, arguments)\n"+"return object"));return constructor.curry}}function group(e,t){if(!Array.isArray(t))t=this;return t.reduce(function(t,n){var r=e(n);if(!(r in t))t[r]=[];t[r].push(n);return t},{})}function cons(e,t){if(!Array.isArray(t))t=this;return[e].concat(t)}function pluck(e,t){if(!Array.isArray(t))t=this;var n=[];for(var r in t)n.push(t[r][e]);return n}function reverse(e){var t=[];for(var n=e.length-1;n>=0;n-=1)t.push(e[n]);return t}function head(e){if(!Array.isArray(e))e=this;return e[0]}function tail(e){if(!Array.isArray(e))e=this;return e.slice(1)}function init(e){if(!Array.isArray(e))e=this;return e.slice(0,e.length-2)}function last(e){if(!Array.isArray(e))e=this;return e[e.length-1]}function take(e,t){if(!Array.isArray(t))t=this;return t.slice(0,Math.min(e,t.length-1))}function uniq(e){if(!Array.isArray(e))e=this;var t=[];for(var n=0;n<e.length;n+=1)if(!t.contains(e[n]))t.push(e[n]);return t}function uniqBy(e,t){if(!Array.isArray(t))t=this;var n=[];for(var r=0;r<t.length;r+=1)if(undefined===n.find(function(n){return e(n)===e(t[r])}))n.push(t[r]);return n}function del(e,t){if(!Array.isArray(t))t=this;var n=[];var r=false;for(var i=0;i<t.length;i+=1)if(!r&&t[i]===e)r=true;else n.push(t[i]);return n}function delBy(e,t){if(!Array.isArray(t))t=this;var n=[];var r=false;for(var i=0;i<t.length;i+=1)if(!r&&e(t[i]))r=true;else n.push(t[i]);return n}function union(e,t){if(!Array.isArray(t))t=this;return uniq(t.concat(e))}function flatten(e){if(!Array.isArray(e))e=this;var t=[];for(var n in e){n=e[n];if(Array.isArray(n))for(var r in n)t.push(n[r]);else t.push(n)}return t}function reject(e,t){if(!Array.isArray(t))t=this;return t.filter(fn(fn.not,e))}function repeat(e,t){var n=new Array(e);if(t===undefined)t=null;while(--e>=0)n[e]=t;return n}function contains(e,t){if(!Array.isArray(t))t=this;return t.indexOf(e)>-1}function values(e){var t=[];for(var n in e)t.push(e[n]);return t}function prop(e,t){var n=t;if(e instanceof Array){for(var r in e)n=n[e[r]]}else{n=t[e]}return n}function pairs(e){var t=[];for(var n in e)t.push([n,e[n]]);return t}function is(e,t){return t instanceof e}function assign(e,t){for(var n in t)e[n]=t[n];return e}function has(e,t){var n=true;for(var r in e)n=n&&e[r]===t[r];return n}function pick(e,t){var n={};for(var r in e){r=e[r];if(r in t)n[r]=t[r]}return n}function forIn(e,t){for(key in t)e(t[key],key,t)}function mapValues(e,t){var n={};for(var r in t)n[r]=e(t[r],r,t);return n}function filterValues(e,t){var n={};for(var r in t)if(e(t[r],r,t))n[r]=t[r];return n}function omit(e,t){var n={};for(var r in t)if(!e.contains(r))n[r]=t[r];return n}function id(e){return e}function constant(e){return function(){return e}}function isNumber(e){return typeof e==="number"||e instanceof Number}function toArray(e){var t=[];for(var n=0;n<e.length;n+=1)t[n]=e[n];return t}function add(e,t){return e+t}function less(e,t){return e<t}function greater(e,t){return e>t}function or(e,t){return e||t}function and(e,t){return e&&t}function not(e){return isNumber(e)?-e:!e}function equal(e,t){return e===t}function random(e,t){var n=t-e;return Math.floor(Math.random()*n+e)}Object.defineProperties(Function.prototype,{curry:{get:function(){var e=getMemo(this,"curry");if(!e)if(this.length<1)e=this;else e=setMemo(this,"curry",curry(this));return e}},trans:{value:transform},flip:{get:function(){var e=getMemo(this,"flip");if(!e)if(this.length<2)e=this.curry;else e=setMemo(this,"flip",flip(this));return e}}});Object.defineProperties(Array.prototype,{group:{value:group},cons:{value:cons},pluck:{value:pluck},head:{value:head},tail:{value:tail},init:{value:init},last:{value:last},take:{value:take},uniq:{value:uniq},uniqBy:{value:uniqBy},del:{value:del},delBy:{value:delBy},union:{value:union},flatten:{value:flatten},reject:{value:reject}});if(!("contains"in Array.prototype))Object.defineProperty(Array.prototype,"contains",{enumerable:false,writable:false,configurable:false,value:contains});var fn={curry:curry,compose:compose,flip:flip,trans:transform,asNew:asNew,group:group.curry,cons:cons.curry,pluck:pluck.curry,reverse:reverse,head:head,tail:tail,init:init,last:last,uniq:uniq,uniqBy:uniqBy.curry,del:del.curry,delBy:delBy.curry,union:union.curry,flatten:flatten.curry,reject:reject.curry,repeat:repeat.curry,contains:contains.curry,values:values,prop:prop.curry,pairs:pairs,is:is.curry,assign:assign.curry,has:has.curry,pick:pick.curry,forIn:forIn.curry,mapValues:mapValues.curry,filterValues:filterValues.curry,omit:omit.curry,id:id,constant:constant,isNumber:isNumber,toArray:toArray,add:add.curry,less:less.curry,greater:greater.curry,or:or.curry,and:and.curry,not:not,negate:not,eq:equal.curry,random:random.curry};pairs(fn).forEach(function(e){compose[e[0]]=e[1]});this.fn=fn=compose;try{module.exports=fn}catch(ex){}return fn})(eval)
